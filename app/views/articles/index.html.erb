<%= stylesheet_link_tag "article_index" %>
<div class="offset-2 col-12 col-xl-8 mx-auto">
  <div class="card border-secondary p-4 justify-content-center bg-light above">
    <% if @articles.nil? %>
      <%= render 'no_more_articles' %>
    <% else %>
      <%= render 'article_list' %>
    <% end %>
    <div class="d-flex justify-content-end mt-4">
      <ul class="pagination">
        <li class="page-item disabled" id="btn-prev">
          <%= link_to '<<', articles_path(page: @page - 1), class: 'page-link' %>
        </li>
        <li class="page-item" id="btn-1">
          <%= link_to '1', articles_path(page: 1), class: 'page-link' %>
        </li>
        <li class="page-item" id="btn-2">
          <%= link_to '2', articles_path(page: 2), class: 'page-link' %>
        </li>
        <li class="page-item" id="btn-3">
          <%= link_to '3', articles_path(page: 3), class: 'page-link' %>
        </li>
        <li class="page-item" id="btn-4">
          <%= link_to '4', articles_path(page: 4), class: 'page-link' %>
        </li>
        <li class="page-item" id="btn-5">
          <%= link_to '5', articles_path(page: 5), class: 'page-link' %>
        </li>
        <li class="page-item" id="btn-next">
          <%= link_to '>>', articles_path(page: @page + 1), class: 'page-link' %>
        </li>
      </ul>
    </div>
  </div>
</div>

<%= javascript_include_tag 'paging' %>

<script>
  const ul = document.querySelector('ul.pagination');
  const url = "<%= articles_path %>" + "?page="
  const page = new URLSearchParams(location.search).get('page')

  const p = new Paging(ul, url, page)

  p.init()
</script>
